<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¹¦ç­¾åŒæ­¥å·¥å…· - ç•Œé¢é¢„è§ˆ</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* é¢„è§ˆæ¨¡å¼ä¸‹çš„é¢å¤–ä¿®æ­£ */
        body {
            cursor: default;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ“š ä¹¦ç­¾åŒæ­¥å·¥å…·</h1>
            <p>Chrome ä¸ ChatGPT Atlas ä¹¦ç­¾åŒæ­¥</p>
        </header>

        <main>
            <!-- æµè§ˆå™¨è·¯å¾„é…ç½® -->
            <section class="config-section">
                <h2>ğŸ”§ æµè§ˆå™¨é…ç½®</h2>

                <div class="path-config">
                    <label for="chrome-path">Chrome ä¹¦ç­¾è·¯å¾„:</label>
                    <div class="path-input-group">
                        <input type="text" id="chrome-path"
                            value="/Users/DemoUser/Library/Application Support/Google/Chrome/Default/Bookmarks"
                            readonly>
                        <button id="detect-chrome" class="btn btn-secondary">è‡ªåŠ¨æ£€æµ‹</button>
                        <button id="browse-chrome" class="btn btn-secondary">æµè§ˆ</button>
                    </div>
                </div>

                <div class="path-config">
                    <label for="atlas-path">ChatGPT Atlas ä¹¦ç­¾è·¯å¾„:</label>
                    <div class="path-input-group">
                        <input type="text" id="atlas-path" placeholder="ç­‰å¾…æ£€æµ‹..." readonly>
                        <button id="detect-atlas" class="btn btn-secondary">è‡ªåŠ¨æ£€æµ‹</button>
                        <button id="browse-atlas" class="btn btn-secondary">æµè§ˆ</button>
                        <button id="help-atlas" class="btn btn-info">å¸®åŠ©</button>
                    </div>
                    <div id="atlas-help" class="help-section" style="display: none;">
                        <h4>ğŸ“ å¦‚ä½•æ‰¾åˆ° ChatGPT Atlas ä¹¦ç­¾æ–‡ä»¶ï¼Ÿ</h4>
                        <div class="help-content">
                            <!-- å¸®åŠ©å†…å®¹ä¸åŸæ–‡ä»¶ä¸€è‡´ -->
                            <p><strong>æ–¹æ³• 1: æŸ¥çœ‹åº”ç”¨è®¾ç½®</strong></p>
                            <ul>
                                <li>æ‰“å¼€ ChatGPT Atlas åº”ç”¨</li>
                                <li>æŸ¥çœ‹è®¾ç½®æˆ–åå¥½è®¾ç½®</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- åŒæ­¥è®¾ç½® -->
            <section class="sync-section">
                <h2>âš™ï¸ åŒæ­¥è®¾ç½®</h2>

                <div class="sync-options">
                    <label>åŒæ­¥æ–¹å‘:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="sync-direction" value="bidirectional" checked>
                            åŒå‘åŒæ­¥ (æ¨è)
                        </label>
                        <label>
                            <input type="radio" name="sync-direction" value="chrome-to-atlas">
                            Chrome â†’ Atlas
                        </label>
                        <label>
                            <input type="radio" name="sync-direction" value="atlas-to-chrome">
                            Atlas â†’ Chrome
                        </label>
                    </div>
                </div>

                <div class="sync-controls">
                    <button id="start-sync" class="btn btn-primary">ğŸš€ å¯åŠ¨è‡ªåŠ¨åŒæ­¥</button>
                    <button id="stop-sync" class="btn btn-danger" disabled>â¹ï¸ åœæ­¢åŒæ­¥</button>
                    <button id="manual-sync" class="btn btn-secondary">ğŸ”„ æ‰‹åŠ¨åŒæ­¥ä¸€æ¬¡</button>
                </div>
            </section>

            <!-- çŠ¶æ€æ˜¾ç¤º -->
            <section class="status-section">
                <h2>ğŸ“Š åŒæ­¥çŠ¶æ€</h2>

                <div class="status-indicator">
                    <span id="sync-status" class="status-badge status-stopped">å·²åœæ­¢</span>
                    <span id="last-sync-time">ä»æœªåŒæ­¥</span>
                </div>

                <div class="log-container">
                    <h3>åŒæ­¥æ—¥å¿—</h3>
                    <div id="sync-log" class="log-area">
                        <div class="log-entry info"><span class="log-timestamp">[15:30:01]</span> åº”ç”¨å¯åŠ¨å®Œæˆ</div>
                        <div class="log-entry success"><span class="log-timestamp">[15:30:02]</span> æˆåŠŸæ£€æµ‹åˆ° Chrome è·¯å¾„
                        </div>
                        <div class="log-entry info"><span class="log-timestamp">[15:30:02]</span> ç­‰å¾…é…ç½® Atlas è·¯å¾„...</div>
                    </div>
                    <button id="clear-log" class="btn btn-small">æ¸…ç©ºæ—¥å¿—</button>
                </div>
            </section>
        </main>
    </div>

    <!-- æ¨¡æ‹Ÿè„šæœ¬ï¼Œä»…ç”¨äºé¢„è§ˆæ•ˆæœ -->
    <script>
        document.getElementById('detect-atlas').onclick = function () {
            const btn = this;
            const input = document.getElementById('atlas-path');
            const log = document.getElementById('sync-log');

            btn.disabled = true;
            btn.textContent = 'æ£€æµ‹ä¸­...';

            setTimeout(() => {
                input.value = '/Users/Winnie.C/Library/Application Support/com.openai.atlas/browser-data/host/Default/Bookmarks';
                btn.textContent = 'è‡ªåŠ¨æ£€æµ‹';
                btn.disabled = false;

                log.innerHTML += '<div class="log-entry success"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> âœ… æ£€æµ‹åˆ° Atlas è·¯å¾„: /Users/Winnie.C/Library/Application Support/com.openai.atlas/browser-data/host/Default/Bookmarks</div>';

                // Simulate updating the input field value too, as app.js does
                document.getElementById('atlas-path').value = '/Users/Winnie.C/Library/Application Support/com.openai.atlas/browser-data/host/Default/Bookmarks';

                log.innerHTML += '<div class="log-entry success"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> ğŸ‰ ä¸¤ä¸ªæµè§ˆå™¨çš„è·¯å¾„éƒ½å·²è‡ªåŠ¨æ£€æµ‹æˆåŠŸï¼</div>';

                // Simulate auto-analyze
                setTimeout(() => {
                    log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> ğŸ“Š æ­£åœ¨åˆ†æä¹¦ç­¾çŠ¶æ€...</div>';

                    setTimeout(() => {
                        // Chrome Stats
                        log.innerHTML += '<div class="log-entry success"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> ğŸ“± Chrome ä¹¦ç­¾ç»Ÿè®¡:</div>';
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span>    â†’ æ€»ä¹¦ç­¾: 1256 ä¸ª</div>';
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span>    â†’ æ–‡ä»¶å¤¹: 48 ä¸ª</div>';

                        // Atlas Stats
                        log.innerHTML += '<div class="log-entry success"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> ğŸŒ Atlas ä¹¦ç­¾ç»Ÿè®¡:</div>';
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span>    â†’ æ€»ä¹¦ç­¾: 1250 ä¸ª</div>';
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span>    â†’ æ–‡ä»¶å¤¹: 45 ä¸ª</div>';

                        // Differences
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> ğŸ” å‘ç°ä¹¦ç­¾å·®å¼‚:</div>';
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span>    â†’ Chrome ç‹¬æœ‰: 6 ä¸ªä¹¦ç­¾</div>';
                        log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> ğŸ’¡ å»ºè®®æ‰§è¡ŒåŒæ­¥ä»¥ä¿æŒä¹¦ç­¾ä¸€è‡´</div>';

                        log.scrollTop = log.scrollHeight;
                    }, 500);
                }, 500);

                log.scrollTop = log.scrollHeight;
            }, 800);
        };

        document.getElementById('help-atlas').onclick = function () {
            const el = document.getElementById('atlas-help');
            el.style.display = el.style.display === 'none' ? 'block' : 'none';
        };

        document.getElementById('start-sync').onclick = function () {
            const btn = this;
            const stopBtn = document.getElementById('stop-sync');
            const status = document.getElementById('sync-status');
            const log = document.getElementById('sync-log');

            btn.disabled = true;
            stopBtn.disabled = false;
            status.textContent = 'è¿è¡Œä¸­';
            status.className = 'status-badge status-running';

            log.innerHTML += '<div class="log-entry info"><span class="log-timestamp">[' + new Date().toLocaleTimeString() + ']</span> å¯åŠ¨æ–‡ä»¶ç›‘æ§...</div>';
            log.scrollTop = log.scrollHeight;
        };

        document.getElementById('stop-sync').onclick = function () {
            const btn = this;
            const startBtn = document.getElementById('start-sync');
            const status = document.getElementById('sync-status');

            btn.disabled = true;
            startBtn.disabled = false;
            status.textContent = 'å·²åœæ­¢';
            status.className = 'status-badge status-stopped';
        };
    </script>
</body>

</html>